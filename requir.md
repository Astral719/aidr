好的，完全没有问题。根据我们上面的所有讨论，为您整理一份符合您需求的PRD（产品需求文档）。

这份PRD明确了项目目标、功能、实现方式，并特别强调了在**纯前端JS**技术栈下的实现方案和相应限制。

---

### **花语日签AI绘画提示词生成器 - 产品需求文档 (PRD)**

| **文档版本** | **V1.0** | **创建日期** | 2025年06月13日 | **创建人** | (您的名字) |
| :----------------- | :------------- | :----------------- | :------------- | :--------------- | :--------- |
| **审阅人**   |                |                    |                |                  |            |

---

#### **1. 项目概述**

**1.1. 项目背景**
为了简化和标准化为“花语日签”生成AI绘画提示词（Prompt）的过程，我们计划开发一款轻量级的网页工具。目前，手动组合日期、花语、金句等元素来撰写提示词效率低下且容易出错。该工具旨在通过自动化的方式，帮助用户快速、准确地生成结构化的AI绘画提示词。

**1.2. 项目目标**

* **核心目标：** 提供一个直观的Web界面，让用户通过简单的选择，一键生成符合特定格式的、用于AI绘画的“花语日签”提示词。
* **效率目标：** 将生成提示词的时间从数分钟缩短到几秒钟。
* **技术目标：** **采用纯前端技术（HTML, CSS, JavaScript）实现**，无需后端服务器，确保应用可以轻松地在任何现代浏览器中以单个文件形式运行。

#### **2. 用户画像与使用场景**

* **目标用户：**
  * 内容创作者、自媒体运营者。
  * 设计师、插画师。
  * 喜欢在社交媒体分享每日心情和美图的个人用户。
* **使用场景：**
  用户每天或定期需要制作一张包含特定日期信息和花语主题的日签图片。他/她打开这个网页工具，选择当天的日期，挑选一个喜欢的花卉和AI绘画风格，工具便立刻生成一段结构完整的提示词。用户复制这段提示词，粘贴到“极梦AI”等AI绘画平台，即可生成所需的日签背景图。

#### **3. 功能需求 (Functional Requirements)**

**3.1. 主界面 (FR-01)**

* **3.1.1.** 界面整体风格为现代简约，所有功能在单一页面内完成，无需跳转。
* **3.1.2.** 页面布局清晰，从上至下引导用户完成选择和生成操作。

**3.2. 日期选择与信息展示 (FR-02)**

* **3.2.1.** 提供一个标准的**公历日期选择器**，允许用户选择任意日期。
* **3.2.2.** 页面首次加载时，日期选择器**默认显示为当天日期**。
* **3.2.3.** 当用户选择一个新的公历日期后，系统需**自动计算并显示对应的星期几**（例如：“星期五”）。
* **3.2.4.** 系统需**自动计算并显示对应的农历日期**。
  * *实现备注：* 由于纯前端限制，此处的农历计算将采用简化的JS算法，主要确保年份干支和大致月、日的正确性，并向用户提示此为“农历参考”。

**3.3. 内容自定义模块 (FR-03)**

* **3.3.1. 绘画风格选择：** 提供一个下拉菜单，包含多种预设的AI绘画风格。
  * **初始选项应包括：** 中国水墨风格、清新插画风格、可爱卡通风格、温馨水彩风格、日系动漫风格、油画质感、国潮风等。
  * 此列表应在代码中易于扩展。
* **3.3.2. 当月花名选择：** 提供一个下拉菜单，用于选择花名。
  * 此菜单内容必须是**动态生成的**。它应根据用户在日期选择器中选定的**月份**，自动从 `每月花语金句表_完整版.csv`数据源中筛选出当月对应的所有花名。
  * **花名清洗：** 在显示花名时，必须自动去除花名中的括号 `()` 及其内部的所有内容（例如，将“风信子 (促)”处理为“风信子”）。
* **3.3.3. 花语与金句自动填充：** 当用户从花名下拉菜单中选择一个花名后，系统需自动从 `每月花语金句表_完整版.csv`数据源中查找并显示对应的“花语”和“金句”。
* **3.3.4. 当日宜事编辑：** 提供一个文本输入框，用于填写“当日宜事”。
  * 系统应提供一个通用的、积极的默认值（例如：“亲近自然, 放松心情”）。
  * 用户可以自由修改此文本框中的内容。

**3.4. 提示词生成与输出 (FR-04)**

* **3.4.1. 生成按钮：** 页面提供一个醒目的“生成提示词”按钮。
* **3.4.2. 提示词生成逻辑：**
  * 点击按钮后，系统会收集用户当前选择的所有信息（公历日期、星期、农历、绘画风格、花名、花语、金句、当日宜事）。
  * 系统将根据 `交付件模板.md`的格式，将收集到的信息填充进去，生成一段完整的、结构化的文本。
* **3.4.3. 提示词展示：** 生成的提示词将显示在一个只读的多行文本框（`<textarea>`）中，方便用户预览。
* **3.4.4. 一键复制功能：** 在文本框下方提供一个“复制提示词”按钮，用户点击后可将生成的提示词完整复制到剪贴板。
* **3.4.5. 使用引导：** 在复制按钮下方，需提供一行明确的引导文字，并包含可点击的链接，内容为：“**请复制到 极梦AI (https://jimeng.jianying.com/) 生成图片。**”

#### **4. 非功能性需求 (Non-Functional Requirements)**

* **4.1. 性能：** 页面加载速度快。由于所有逻辑和数据都在本地，操作响应应无明显延迟。
* **4.2. 兼容性：** 需在主流现代浏览器（Chrome, Firefox, Edge, Safari）的最新版本上正常运行。
* **4.3. 易用性：** 界面直观，操作流程符合用户习惯，无需学习即可上手。
* **4.4. 可维护性：** 代码结构清晰，数据（如CSV内容、风格列表）与逻辑分离，方便未来进行修改或扩展。

#### **5. 核心实现方案与技术选型**

* **5.1. 技术栈：**
  * **HTML5:** 负责页面结构。
  * **CSS3:** 负责页面样式和布局，实现现代简约风格。
  * **JavaScript (ES6+):** 负责所有动态逻辑，包括日期处理、数据筛选、事件监听和DOM操作。
* **5.2. 数据处理方案：**
  * 为了避免纯前端环境下的文件读取（CORS）问题，`每月花语金句表_完整版.csv` 的内容将作为**字符串常量**直接嵌入到JavaScript代码中。应用启动时，由JS代码解析这个字符串，并将其转换为程序可用的对象数组。
  * `交付件模板.md` 的格式将作为JS中的一个**模板字符串 (template literal)** 来实现，方便动态填充变量。

#### **6. 限制与已知问题**

* **6.1. 纯前端限制：** 本项目不依赖任何后端服务，因此所有计算和数据处理都在用户的浏览器中完成。
* **6.2. 农历日期的准确性：** 完整的农历算法非常复杂。本项目将采用一个**简化的JS库或算法**来计算农历。其结果在大多数情况下是准确的，但可能在某些特殊年份或节气边界存在微小误差。页面会提示用户此农历日期仅供参考。
* **6.3. “当日宜忌”的缺失：** 真实、每日变化的老黄历“宜忌”信息需要庞大的数据库或专业的API服务，这超出了纯前端的能力范围。因此，本项目中的“当日宜事”功能将由**用户自行编辑或接受一个通用的默认值**，而非真实的黄历数据。
* **6.4. 数据更新：** 如果需要更新花语金句表，必须直接修改HTML文件中的JavaScript源代码。
